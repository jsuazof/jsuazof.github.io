---
// src/components/SideBar.astro
import { Image } from "astro:assets";
import profileImg from "../assets/images/profile.webp"; // ✅ Imagen importada desde src/
const { sideBarActiveItemID } = Astro.props;
---

<aside
  class="px-2 pt-2 h-auto min-h-full w-[19rem] bg-base-200 text-base-content flex flex-col"
>
  <!-- Foto de perfil -->
  <div class="w-fit mx-auto mt-5 mb-6">
    <a href="/jsuazof.github.io/">
      <div
        class="avatar transition ease-in-out hover:scale-[102%] block m-auto"
      >
        <div class="w-[8.5rem]">
          <Image
            src={profileImg}
            alt="Jorge Suazo - Cloud Architect & FullStack Developer"
            class="mask mask-circle"
            width="300"
            height="300"
          />
        </div>
      </div>
    </a>
  </div>
  
  <!-- Theme Toggle Button -->
  <div class="w-fit mx-auto mb-4">
    <button id="theme-toggle-sidebar" class="btn btn-ghost btn-circle btn-sm" title="Toggle theme">
      <svg id="theme-toggle-dark-icon-sidebar" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
      </svg>
      <svg id="theme-toggle-light-icon-sidebar" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
      </svg>
    </button>
  </div>
  
  <!-- Menú de navegación -->
  <ul class="menu grow shrink menu-md overflow-y-auto">
    <li><a class="py-3 text-base" href="/jsuazof.github.io/">Inicio</a></li>
    <li><a class="py-3 text-base" href="/jsuazof.github.io/projects">Proyectos</a></li>
    <li><a class="py-3 text-base" href="/jsuazof.github.io/cv">CV</a></li>
    <li>
      <a
        class="py-3 text-base"
        href="mailto:contact.jsuazof@gmail.com"
        target="_blank">Contacto</a
      >
    </li>
  </ul>
  <!-- Script para resaltar el ítem activo -->
  <script>
    (function () {
      const activeItemID = "home";
      const activeClass = "bg-base-300";
      const link = document.querySelector(`[href="/${activeItemID}"]`);
      if (link && link.parentElement) {
        link.parentElement.classList.add(activeClass);
      }
    })();
  </script>


  <!-- Separador decorativo -->
  <div
    class="block sticky pointer-events-none bottom-10 bg-base-200 justify-center h-12 [mask-image:linear-gradient(transparent,#000000)]"
  >
  </div>

  <!-- Redes sociales -->
  <div
    class="social-icons px-4 pb-5 pt-1 flex self-center justify-center sticky bottom-0 bg-base-200"
  >
    <a
      href="https://github.com/jsuazof"
      target="_blank"
      class="mx-3"
      aria-label="GitHub"
      title="GitHub"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        style="fill: currentColor;"
      >
        <path
          d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"
        ></path>
      </svg>
    </a>
    <a
      href="https://www.linkedin.com/in/jorgesuazof/"
      target="_blank"
      class="mx-3"
      aria-label="LinkedIn"
      title="LinkedIn"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        style="fill: currentColor;"
      >
        <circle cx="4.983" cy="5.009" r="2.188"></circle>
        <path
          d="M9.237 8.855v12.139h3.769v-6.003c0-1.584.298-3.118 2.262-3.118 1.937 0 1.961 1.811 1.961 3.218v5.904H21v-6.657c0-3.27-.704-5.783-4.526-5.783-1.835 0-3.065 1.007-3.568 1.96h-.051v-1.66H9.237zm-6.142 0H6.87v12.139H3.095z"
        ></path>
      </svg>
    </a>
    <a
      href="mailto:contact.jsuazof@gmail.com"
      target="_blank"
      class="mx-3"
      aria-label="Email"
      title="Enviar correo"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        style="fill: currentColor;"
      >
        <path
          d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
        ></path>
      </svg>
    </a>
  </div>
</aside>
